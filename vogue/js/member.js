// ë³´ê·¸ PJ íšŒì›ê°€ì… í˜ì´ì§€ JS - member.js

// ì•½ê´€ ë™ì˜ phpì½”ë“œ ë¶ˆëŸ¬ì˜¤ê¸°
import { mcode } from "./data/mem_data.js";

// console.log(mcode);
// ì•½ê´€ë™ì˜ html ì½”ë“œ ë„£ê¸° : #conf
$('#conf').html(mcode.conf);

/************************************************ 
    ì•½ê´€ë™ì˜ ì „ì²´ ì²´í¬ì‹œ ëª¨ë“  ì²´í¬ë°•ìŠ¤ ë³€ê²½í•˜ê¸°
************************************************/
// 1. ëŒ€ìƒì„ ì • 
// 1-1. ëª¨ë‘ë™ì˜ ì²´í¬ë°•ìŠ¤ : #chk_all
const chkAll = $('#chk_all');
// 1-2. ê°œë³„ì²´í¬ë°•ìŠ¤ ê³µí†µ : .chk
const chkEach = $('.chk');

// 2. ì²´í¬ë°•ìŠ¤ ë³€ê²½ ì´ë²¤íŠ¸ í•¨ìˆ˜ ë§Œë“¤ê¸°
chkAll.change(function(){
    // 1. ì²´í¬ë°•ìŠ¤ ì²´í¬ì—¬ë¶€ í™•ì¸í•˜ê¸°
    // let isChk = $(this).attr('checked');
    let isChk = $(this).prop('checked');
    console.log('ì²´í¬ì•¼?',isChk);

    // 2. ì „ì²´ í¬ê¸°ë°•ìŠ¤ê°€ ì²´í¬ìƒíƒœ(true)ì´ë©´
    // ê°œë³„ì²´í¬ë°•ìŠ¤ë„ ëª¨ë‘ trueë¡œ ì²´í¬ìƒíƒœ ë³€ê²½!
    // ë¯¸ì²´í¬ìƒíƒœ(false)ë©´ ê°œë³„ë°•ìŠ¤ë„ ëª¨ë‘ false!
    chkEach.prop('checked', isChk);
    // chkEach.prop('checked', isChk);
    // forë¬¸ ì—†ì´ë„ ì—¬ëŸ¬ê°œì˜ ì²´í¬ë°•ìŠ¤ë¥¼
    // ë™ì‹œì— ë³€ê²½í•  ìˆ˜ ì‡ìŒ!
    // attr()ë„ ë™ì¼í•˜ê²Œ ë³€ê²½ê°€ëŠ¥ (ì½ê¸°ë§Œ ì•ˆë¨!)
}); /////////////// change ///////////////

/************************************************ 
    ì•½ê´€ë™ì˜ ê°œë³„ ì²´í¬ì‹œ ì „ì²´ ì²´í¬ë°•ìŠ¤ ë³€ê²½í•˜ê¸°
************************************************/
// ì›ë¦¬ : ê°œë³„ì²´í¬ë°•ìŠ¤ ëª¨ë‘ ì²´í¬ë˜ë©´ ì „ì²´ì²´í¬í•˜ê¸°
// ëŒ€ìƒ : .chk -> chkEachë³€ìˆ˜
chkEach.change(function () {
    // 1. ì²´í¬ê°œìˆ˜ ì•Œì•„ì˜¤ê¸° : length -> ê°œìˆ˜ ë¦¬í„´!
    let num = $('.chk:checked').length
    console.log('ì²´í¬ê°œìˆ˜:',num);

     // 2. ì²´í¬ê°œìˆ˜ê°€ 3ì´ë©´ ì „ì²´ì²´í¬ë°•ìŠ¤ ì²´í¬í•˜ê¸°
     if(num==3) chkAll.prop('checked',true);
     else chkAll.prop('checked',false);
 }); //////////// change ////////////////////



 /************************************************* 
    ë™ì˜ / ë¹„ë™ì˜ ë²„íŠ¼ í´ë¦­ì‹œ ì²˜ë¦¬í•˜ê¸°
 *************************************************/
// ëŒ€ìƒ : .YNbox button
// í†µê³¼ì¡°ê±´ : #termsService ì™€ #termsPrivacy ì²´í¬ë°•ìŠ¤ê°€
//           ëª¨ë‘ ì²´í¬ë˜ë©´ í†µê³¼!
$('.YNbox button').click(function(){
    // 1. ë²„íŠ¼êµ¬ë¶„í•˜ê¸° : is ë™ì˜ë²„íŠ¼? -> is('#btnY')
    let isBtn = $(this).is('#btnY');
    console.log('ë™ì˜ëƒ?',isBtn);


    // 2. ë™ì˜ ë²„íŠ¼ì¼ ê²½ìš° : í•„ìˆ˜ì²´í¬í™•ì¸ í›„ íšŒì›ê°€ì…í—ˆê°€!
    if(isBtn){
        if($('#termsService').prop('checked') &&
        $('#termsPrivacy').prop('checked')){
            // alert('í†µê³¼');
            // ë™ì˜/ë¹„ë™ì˜ ìŠ¤-ìœ½ ì‚¬ë¼ì§€ê¸°
            $('#conf').fadeOut(300,()=>{
                // ì‚¬ë¼ì§„í›„ íšŒì›ê°€ì…ë°•ìŠ¤ ìŠ¤-ìœ½ ë‚˜íƒ€ë‚˜ê¸°
                $('.scont').fadeIn(300);
            }); ////////////// fadeOut //////////////

        } ////// if //////
        else{
            alert('ëª¨ë“  í•„ìˆ˜í•­ëª©ì— ì²´í¬í•˜ì…”ì•¼ í•©ë‹ˆë‹¤!');
        } ///// else /////

    } ////////////// if //////////////
    // 3. ë¹„ë™ì˜ ë²„íŠ¼ í´ë¦­ì‹œ //////////
    else{
        alert('ë¹„ë™ì˜ í•˜ì˜€ìœ¼ë¯€ë¡œ ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤')
        location.href = 'index.php';
    } ///// else /////
}); ///////////// click /////////////

/************************************************** 
    [ ì†ì„±ê°’ì„ ì½ì–´ì˜¤ëŠ” ë©”ì„œë“œ 2ê°€ì§€ ]
    attribute ë‹¨ì–´ì˜ ë©”ì„œë“œ : attr(ì†ì„±ëª…)
    property ë‹¨ì–´ì˜ ë©”ì„œë“œ : prop(ì†ì„±ëª…)
    -> ë‘˜ì˜ ì°¨ì´ëŠ” ì¼ë°˜ ì†ì„±ê°’ì„ ì½ì–´ì˜¬ë•ŒëŠ” ì°¨ì´ê°€ ì—†ë‹¤!
    ë‹¨. ì²´í¬ë°•ìŠ¤ì˜ checked ì†ì„±ì¸ ê²½ìš° true/falseë¥¼
    ë¦¬í„´í•´ì£¼ëŠ” ê²ƒì€ prop() ë©”ì„œë“œ ë¿ì„!

    [ ì†ì„±ê°’ì„ ì…‹íŒ…í•˜ëŠ” ë©”ì„œë“œ 2ê°€ì§€]
    1. attr(ì†ì„±ëª…, ê°’)
    2. prop(ì†ì„±ëª…, ê°’)
**************************************************/




/***********************************************
    [ ì‚¬ìš©ì ì…ë ¥í¼ ìœ íš¨ì„± ê²€ì‚¬ ]
    - ì´ë²¤íŠ¸ ì¢…ë¥˜ : blur(í¬ì»¤ìŠ¤ê°€ ë¹ ì§ˆë•Œ ë°œìƒ)
    - ì œì´ì¿¼ë¦¬ ì´ë²¤íŠ¸ ë©”ì„œë“œ : blur()
    - ì´ë²¤íŠ¸ ëŒ€ìƒ :
    -> ì…ë ¥ìš”ì†Œ ì¤‘ text(ì•„ì´ë””,email2ì œì™¸), password
        form.logF input[type=text][id!=email2],
        form.logF input[type=password],
    -> ìš”ì†Œ ë’¤ ëŒ€ê´„í˜¸ëŠ” ì†ì„±ì„ íƒì(CSSì›ë˜ë¬¸ë²•)
    [id!=email2] !=ì€ ê°™ì§€ì•Šë‹¤(ì œì´ì¿¼ë¦¬ìš©ë¬¸ë²•)

************************************************/
$(` form.logF input[type=text][id!=email2],
form.logF input[type=password]`)
// .on('blur',function(){})
.blur(function(){
    // 1. í˜„ì¬ ë¸”ëŸ¬ê°€ ë°œìƒí•œ ìš”ì†Œì˜ ì•„ì´ë””ëŠ”?
    let cid = $(this).attr('id');
    // cid ëŠ” current id ì¦‰, í˜„ì¬ ì•„ì´ë””

    
    // ëª¨ë“  ê³µë°±ì œê±° í•¨ìˆ˜ (get id or Space)
    const groSpace = x => x.replace(/\s/g,'');
    // replace(ì •ê·œì‹, ë°”ê¿€ë¬¸ì)
    // ì •ê·œì‹ì€ ìŠ¬ë˜ì‰¬ ì‚¬ì´ì— í‘œí˜„:\s ê³µë°±ë¬¸ì
    // gëŠ” global ì¦‰, ì „ì—­ì ìœ¼ë¡œ ì°¾ìœ¼ë¼ëŠ” í”Œë˜ê·¸ ë¬¸ì
    
    // 2. í˜„ì¬ ë¸”ëŸ¬ê°€ ë°œìƒí•œ ìš”ì†Œì˜ ê°’ì€?
    // ì´ë¦„ì…ë ¥ì°½(id=='mnm')ì´ë©´ trim() ë‚˜ë¨¸ì§€ëŠ” groSpace()
    // ë¡œ ì²˜ë¦¬í•˜ì—¬ ê³µë°±ì„ ì œê±°í•œë‹¤
    let cv = 
    cid=='mnm'?
    $(this).val().trim():
    groSpace($(this).val());
    // ë¹„? ì§‘: ë†€ì´ë™ì‚°


    // ì…ë ¥ì°½ ê³µë°±ì²˜ë¦¬í›„ ì¬ì…ë ¥í•˜ê¸°!
    $(this).val(cv);

    console.log('idëŠ”?!',cid,'/ê°’ì€?',cv);

    /******************************************* 
        3. ì¤‘ìš”! ë¹ˆê°’ ì—¬ë¶€ ê²€ì‚¬í•˜ê¸°(í•„ìˆ˜ì…ë ¥í•­ëª©) 
    *******************************************/
    if(cv == ""){
    // ë©”ì„¸ì§€ì¶œë ¥í•˜ê¸°
    $(this).siblings('.msg').text('í•„ìˆ˜ì…ë ¥!')
    .removeClass('on');


    // [ ë¶ˆí†µê³¼ì‹œ pass ê°’ ë³€ê²½1 ]
    pass = false;
    }/////////// if ///////////

    /******************************************* 
        4. ì•„ì´ë””ì¼ ê²½ìš° ìœ íš¨ì„± ê²€ì‚¬
        - ê²€ì‚¬ê¸°ì¤€:
        ì˜ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” 6~20ê¸€ì ì˜ë¬¸ì/ìˆ«ì
    *******************************************/
    else if(cid == 'mid'){
        // console.log('ì•„ì´ë”” ê²€ì‚¬ê²°ê³¼:',vReg(cv,cid));
        if(!vReg(cv,cid)){ // ì•„ì´ë”” ê²€ì‚¬ ë¶ˆí†µê³¼ì‹œ ë“¤ì–´ê°(!NOT)
            $(this).siblings('.msg')
            .text('ì˜ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” 6~20ê¸€ì ì˜ë¬¸ì/ìˆ«ì')
            .removeClass('on');

    // [ ë¶ˆí†µê³¼ì‹œ pass ê°’ ë³€ê²½2 ]
    pass = false;
        } /////////////// if ///////////////
        else{ //í†µê³¼ì‹œ
            // 1. DBì— ì¡°íšŒí•˜ì—¬ ê°™ì€ ì•„ì´ë””ê°€ ìˆë‹¤ë©´
            // 'ì´ë¯¸ ì‚¬ìš©ì¤‘ì¸ ì•„ì´ë””ì…ë‹ˆë‹¤' ì™€ ê°™ì€ ë©”ì„¸ì§€ ì¶œë ¥
            // 2. ë§Œì•½ DBì¡°íšŒí•˜ì—¬ ê°™ì€ ì•„ì´ë””ê°€ ì—†ë‹¤ë©´
            // 'ë©‹ì§„ ì•„ì´ë””ë„¤ìš”!'ì™€ ê°™ì€ ë©”ì„¸ì§€ ì¶œë ¥
            // ì—¬ê¸°ì„œ ìš°ì„ ì€ DBì¡°íšŒ ëª»í•˜ë¯€ë¡œ í†µê³¼ì‹œ ë©”ì„¸ì§€ë¡œ ì¶œë ¥
            // ë©”ì„¸ì§€ ë„ìš°ê¸°
            $(this).siblings('.msg')
            .text('ë©‹ì§„ ì•„ì´ë””ë„¤ìš”!')
            .addClass('on');
            // -> ë¹„ë™ê¸° í†µì‹  Ajaxë¡œ ì„œë²„ìª½ì— ì•„ì´ë”” ì¤‘ë³µê²€ì‚¬ í•„ìš”!
        } /////////////// else ///////////////

    } /////////////// else if : ì•„ì´ë””ê²€ì‚¬ ///////
        
    
    /******************************************* 
        5. ë¹„ë°€ë²ˆí˜¸ì¼ ê²½ìš° ìœ íš¨ì„± ê²€ì‚¬
        - ê²€ì‚¬ê¸°ì¤€:
          íŠ¹ìˆ˜ë¬¸ì,ë¬¸ì,ìˆ«ìí¬í•¨ í˜•íƒœì˜ 5~15ìë¦¬
    *******************************************/
    else if(cid == 'mpw'){
        // console.log('ë¹„ë°€ë²ˆí˜¸ ê²€ì‚¬ê²°ê³¼:',vReg(cv,cid));
        if(!vReg(cv,cid)){ // ë¹„ë°€ë²ˆí˜¸ ê²€ì‚¬ ë¶ˆí†µê³¼ì‹œ ë“¤ì–´ê°(!NOT)
            $(this).siblings('.msg')
            .text('íŠ¹ìˆ˜ë¬¸ì,ë¬¸ì,ìˆ«ìí¬í•¨ í˜•íƒœì˜ 5~15ìë¦¬');

            // [ ë¶ˆí†µê³¼ì‹œ pass ê°’ ë³€ê²½3 ]
            pass = false;
        } /////////////// if ///////////////
        else{ //í†µê³¼ì‹œ
            // ë©”ì„¸ì§€ ì§€ìš°ê¸°
            $(this).siblings('.msg').empty();
        } ////////// else ///////////

    } /////////// else if : ë¹„ë°€ë²ˆí˜¸ê²€ì‚¬ ///////////

    /******************************************* 
        6. ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì¼ ê²½ìš° ìœ íš¨ì„± ê²€ì‚¬
        - ê²€ì‚¬ê¸°ì¤€: ë¹„ë°€ë²ˆí˜¸ í•­ëª©ê³¼ ì¼ì¹˜ì—¬ë¶€ 
    *******************************************/
    else if(cid == 'mpw2'){
        if(cv != $('#mpw').val()){
            $(this).siblings('.msg')
            .text('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!');

            // [ ë¶ˆí†µê³¼ì‹œ pass ê°’ ë³€ê²½4 ]
            pass = false;
        } /////////////// if ///////////////
        else{ //í†µê³¼ì‹œ
            // ë©”ì„¸ì§€ ì§€ìš°ê¸°
            $(this).siblings('.msg').empty();
        } ////////// else ///////////

    } /////////// else if : ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ///////////
        
   /**************************************** 
        7. ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬
        - ê²€ì‚¬ê¸°ì¤€: ì´ë©”ì¼ í˜•ì‹ì— ë§ëŠ”ì§€ ì—¬ë¶€
    ****************************************/
   else if(cid == 'email1'){
        // 1. ì´ë©”ì¼ ì£¼ì†Œ ë§Œë“¤ê¸° :  ì•ì£¼ì†Œ@ë’·ì£¼ì†Œ
        let comp = eml1.val() + '@' +
        (seleml.val()=='free'?eml2.val():seleml.val());
        // (ë¹„?ì§‘:ë†€ì´ë™ì‚°)
        // ì„ íƒë°•ìŠ¤ê°’ì´ 'free'ì¸ê°€?ìˆ¨ê¸´ì´ë©”ì¼ì…ë ¥ì°½ê°’:ì„ íƒê°’

        // 2. ì´ë©”ì¼ ê²€ì‚¬í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°!
        resEml(comp);

   } /////////////// else if : ë¹„ë°€ë²ˆí˜¸ê²€ì‚¬ ///////

    /// ëª¨ë‘ í†µê³¼ì¼ ê²½ìš° ë©”ì‹œì§€ ì§€ìš°ê¸° ///////
    else {
      $(this).siblings(".msg").empty();
      // empty() - ë‚´ìš©ì„ ì§€ìš°ëŠ” ë©”ì„œë“œ
    } /////// else //////
  }); ///////////////// blur ë©”ì„œë“œ /////////////////

  /////////// ì´ë©”ì¼ ê´€ë ¨ ëŒ€ìƒì„ ì • /////////////
  // ì´ë©”ì¼ ì•ì£¼ì†Œ
  const eml1 = $('#email1');
  // ì´ë©”ì¼ ë’·ì£¼ì†Œ
  const eml2 = $('#email2');
  // ì´ë©”ì¼ ë’·ì£¼ì†Œ ì„ íƒë°•ìŠ¤
  const seleml = $('#seleml');
  ////////////////////////////////////////////

/************************************************** 
    ì„ íƒë°•ìŠ¤ ë³€ê²½ì‹œ ì´ë©”ì¼ ê²€ì‚¬í•˜ê¸°
    ____________________________

    ê²€ì‚¬ì‹œì  : ì„ íƒë°•ìŠ¤ì— changeì´ë²¤íŠ¸ê°€ ë°œìƒí• ë•Œ
    ì œì´ì¿¼ë¦¬ ë©”ì„œë“œ : change()
    ì´ë²¤íŠ¸ ëŒ€ìƒ : #seleml -> seleml ë³€ìˆ˜
**************************************************/
seleml.change(function(){
    // 1. ì„ íƒë°•ìŠ¤ ë³€ê²½ëœ ê°’ ì½ì–´ì˜¤ê¸°
    let cv = $(this).val();
    // console.log('ì„ íƒê°’:',cv);

    // 2. ì„ íƒì˜µì…˜ë³„ ë¶„ê¸°
    // 2-1. "ì„ íƒí•´ì£¼ì„¸ìš”"ì¼ ê²½ìš°
    if(cv == 'init'){
        // "ì„ íƒí•´ì£¼ì„¸ìš”"

        // 1. ë©”ì„¸ì§€ ì¶œë ¥
        eml1.siblings('.msg')
        .text('ì´ë©”ì¼ ì˜µì…˜ì„ íƒ í•„ìˆ˜!')
        .removeClass('on');
        // 2. ì§ì ‘ì…ë ¥ì°½ ìˆ¨ê¸°ê¸°
        eml2.fadeOut(300);
    } //////////// if: ì„ íƒí•´ì£¼ì„¸ìš” ////////////
    // 2-2.'ì§ì ‘ì…ë ¥'ì¼ ê²½ìš°
    else if(cv == 'free'){
        // 1. ì§ì ‘ì…ë ¥ì°½ ë³´ì´ê¸°
        eml2.fadeIn(300).val('').focus();
        // ìˆ¨ê¸´ì…ë ¥ì°½.ë‚˜íƒ€ë‚˜(300),ê°’('').í¬ì»¤ìŠ¤()

        // 2. ê¸°ë³¸ ë©”ì„¸ì§€ ì§€ìš°ê¸°
        eml1.siblings('.msg').empty();

    } /////// else if : ì§ì ‘ì…ë ¥ ///////

    // 2-3. ê¸°íƒ€ ì´ë©”ì¼ì£¼ì†Œ ì„ íƒì¼ ê²½ìš°
    else {
        // 1. ì§ì ‘ì…ë ¥ì°½ ìˆ¨ê¸°ê¸°
        eml2.fadeOut(300);

        // 2. ì´ë©”ì¼ ì „ì²´ì£¼ì†Œ ì¡°í•©í•˜ê¸°
        let comp = eml1.val() + '@' + cv;
        // cv ëŠ” selectì˜ optionì˜ valueê°’

        // 3. ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬í•¨ìˆ˜ í˜¸ì¶œ
        resEml(comp);

    } /////// else : ê¸°íƒ€ ì´ë©”ì¼ì£¼ì†Œ ///////
}); ///////////// change ë©”ì„œë“œ /////////////

/************************************************** 
    í‚¤ë³´ë“œ ì…ë ¥ì‹œ ì´ë©”ì¼ ì²´í¬í•˜ê¸°
    ___________________________

    - í‚¤ë³´ë“œ ê´€ë ¨ ì´ë²¤íŠ¸ : keypress, keyup, keydown
    1. keypress : í‚¤ê°€ ëˆŒëŸ¬ì¡Œì„ë•Œ
    2. keyup: í‚¤ê°€ ëˆŒë ¸ë‹¤ê°€ ì˜¬ë¼ì˜¬ë•Œ
    3. keydown: í‚¤ê°€ ëˆŒë ¤ì €ì„œ ë‚´ë ¤ê°€ ìˆì„ë•Œ
    -> ê³¼ì—° ê¸€ìê°€ ì…ë ¥ë˜ëŠ” ìˆœê°„ì€ ì–´ë–¤ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ë¥¼
    ì‚¬ìš©í•´ì•¼ í• ê¹Œ? ->>> keyup

    - ì´ë²¤íŠ¸ ëŒ€ìƒ : #email1, #email2
    -> ëª¨ë“  ì´ë²¤íŠ¸ í•¨ìˆ˜ì™€ ì—°ê²°í•˜ëŠ” ì œì´ì¿¼ë¦¬ ë©”ì„œë“œëŠ”?
    on(ì´ë²¤íŠ¸ëª…, í•¨ìˆ˜)
**************************************************/
$('#email1,#email2')
.on('keyup',function(){
    // 1. í˜„ì¬ ì´ë²¤íŠ¸ ëŒ€ìƒ ì•„ì´ë”” ì½ì–´ì˜¤ê¸°
    let cid = $(this).attr('id');

    // 2. í˜„ì¬ ì…ë ¥ëœ ê°’ ì½ì–´ì˜¤ê¸°
    let cv = $(this).val();

    // 3. ì´ë©”ì¼ ë’·ì£¼ì†Œ ì…‹íŒ…í•˜ê¸°
    let backEml =
    cid == 'email1' ? seleml.val() : eml2.val();
    // í˜„ì¬ì…ë ¥ ì•„ì´ë””ê°€ 'email1'ì´ë©´ ì„ íƒë°•ìŠ¤ê°’
    // ì•„ë‹ˆë©´ ë‘ë²ˆì§¸ ì´ë©”ì¼ì°½ì— ì…ë ¥í•˜ëŠ” ê²ƒì´ë¯€ë¡œ
    // ë‘ë²ˆì§¸ ì´ë©”ì¼ ì…ë ¥ê°’ì„ ë’·ì£¼ì†Œë¡œ ì„¤ì •í•¨!
    
    // 4. ë§Œì•½ ì„ íƒë°•ìŠ¤ ê°’ì´ 'free'(ì§ì ‘ì…ë ¥)ì´ë©´
    // ì´ë©”ì¼ ë’·ì£¼ì†Œë¡œ ë³€ê²½í•¨!
    if(seleml.val() == 'free') backEml = eml2.val();

    // 5. ì´ë©”ì¼ ì „ì²´ì£¼ì†Œ ì¡°í•©í•˜ê¸° 
    let comp = eml1.val() + '@' + backEml

    // 6. ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬í•¨ìˆ˜ í˜¸ì¶œ
    resEml(comp);
    

    console.log('ì…ë ¥ì•„ì´ë””:',cid,'\nì…ë ¥ê°’:',cv);


}); /////////////////// keyì–´ì©Œêµ¬ ///////////////////



/************************************************** 
    í•¨ìˆ˜ëª… : resEml(result Email)
    ê¸°ëŠ¥ : ì´ë©”ì¼ ê²€ì‚¬ê²°ê³¼ ì²˜ë¦¬
**************************************************/
const resEml = comp => { // comp - ì´ë©”ì¼ ì£¼ì†Œ
    console.log('ì´ë©”ì¼ì£¼ì†Œ:',comp);
    console.log('ì´ë©”ì¼ê²€ì‚¬ê²°ê³¼:',vReg(comp,'eml'));

    // ì´ë©”ì¼ ì •ê·œì‹ ê²€ì‚¬ì— ë”°ë¥¸ ë©”ì„¸ì§€ ë³´ì´ê¸°
    if(vReg(comp,'eml')){
        eml1.siblings('.msg')
        .text('ì í•©í•œ ì´ë©”ì¼ í˜•ì‹ì…ë‹ˆë‹¤!')
        .addClass('on');
    } //////////// if: í†µê³¼ì‹œ ////////////
    else{
        eml1.siblings('.msg')
        .text('ë§ì§€ì•ŠëŠ” ì´ë©”ì¼ í˜•ì‹ì…ë‹ˆë‹¤!')
        .removeClass('on');

        // [ ë¶ˆí†µê³¼ì‹œ pass ê°’ ë³€ê²½5 ]
        pass = false;
    } //////////// else: ë¶ˆí†µê³¼ì‹œ ////////////

}; /////////////// resEml ///////////////



/************************************** 
    ë¹„ë°€ë²ˆí˜¸ ê¸€ì ë³´ì´ê¸°/ìˆ¨ê¸°ê¸° ì…‹íŒ…
**************************************/
let eyeNum = 1; //ìƒíƒœê°’ = 1
$('.eye')
.css({ // ì²˜ìŒìƒíƒœëŠ” ì¤‘ê°„ì¤„ìˆê³  íë¦¼
    textDecoration:'line-through',
    opacity: 0.5,
    cusor:'pointer',
}) ////// css //////
.click((e)=>{
    // 1. ê¸€ìë³´ì´ê¸° íƒ€ì…ì „í™˜ : type='text|password'
    $('#mpw').attr('type',eyeNum?'text':'password');
    // 2. CSS ë””ìì¸ ì „í™˜ (ì•ˆë³´ì¼ë•ŒëŠ” íë¦¬ê²Œ ì¤‘ê°„ì¤„í‘œì‹œ)
    $(e.target).css({
        textDecoration: eyeNum?'none':'line-through',
        opacity: eyeNum? 1 : 0.5
    })
    // ìƒíƒœê°’ ì „í™˜ (eyeNumì´ 1ì´ë©´ 0, 0ì´ë©´ 1 í• ë‹¹!)
    eyeNum = eyeNum?0:1
}); ///////////////// click /////////////////

/***************************************************** 
    ê°€ì…í•˜ê¸°(submit) ë²„íŠ¼ í´ë¦­ì‹œ ì²˜ë¦¬í•˜ê¸°
    ___________________________________

    - formìš”ì†Œ ë‚´ë¶€ì˜ submitë²„íŠ¼ì„ í´ë¦­í•˜ë©´
    ê¸°ë³¸ì ìœ¼ë¡œ formìš”ì†Œì— ì„¤ì •ëœ actionì†ì„±ê°’ì¸
    í˜ì´ì§€ë¡œ ì „ì†¡ëœë‹¤! ì „ì²´ê²€ì‚¬ë¥¼ ìœ„í•´ ì´ë¥¼ ì¤‘ì§€í•´ì•¼í•¨!
    - > ì¤‘ì§€ë°©ë²•ì€? event.preventDefault()!!!

    ì „ì²´ê²€ì‚¬ì˜ ì›ë¦¬ : 
    ì „ì—­ë³€ìˆ˜ passë¥¼ ì„¤ì •í•˜ì—¬ trueë¥¼ í• ë‹¹í•˜ê³ 
    ê²€ì‚¬ì¤‘ê°„ì— ë¶ˆí†µê³¼ ì‚¬ìœ ë°œìƒì‹œ falseë¡œ ë³€ê²½!
    ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼ì—¬ë¶€ë¥¼ íŒë‹¨í•œë‹¤!

    ê²€ì‚¬ë°©ë²• : 
    ê¸°ì¡´ ì´ë²¤íŠ¸ blurì´ë²¤íŠ¸ë¥¼ ê°•ì œë¡œ ë°œìƒì‹œí‚¨ë‹¤!
    ì´ë²¤íŠ¸ë¥¼ ê°•ì œë¡œ ë°œìƒì‹œí‚¤ëŠ” ì œì´ì¿¼ë¦¬ ë©”ì„œë“œëŠ”?
    ->>>> trigger(ì´ë²¤íŠ¸ëª…)
*****************************************************/

    // ê²€ì‚¬ìš© ë³€ìˆ˜
    let pass = true;

    // ì´ë²¤íŠ¸ ëŒ€ìƒ: #btnj
    $('#btnj').click(e=>{
        // í˜¸ì¶œí™•ì¸
        console.log('ê°€ì…í•´!');

        // 1. ê¸°ë³¸ì´ë™ë§‰ê¸°
        event.preventDefault();

        // 2. passí†µê³¼ì—¬ë¶€ ë³€ìˆ˜ì— trueë¥¼ í• ë‹¹!
        pass = true;

        // 3. ì…ë ¥ì°½ blurì´ë²¤íŠ¸ ê°•ì œ ë°œìƒì‹œí‚¤ê¸°
        $(` form.logF input[type=text][id!=email2],
        form.logF input[type=password]`)
        .trigger('blur');

        // ìµœì¢…í†µê³¼ ì—¬ë¶€
        console.log('í†µê³¼ì—¬ë¶€:',pass);

        // 4. ê²€ì‚¬ê²°ê³¼ì— ë”°ë¼ ë©”ì„¸ì§€ ë³´ì´ê¸°
        if(pass){
            // ì˜¤ë¦¬ì§€ë„ í¬ìŠ¤íŠ¸ ë°©ì‹ìœ¼ë¡œ ì „ì†¡í•¨! -> ajacì²˜ë¦¬ì‹œì—” ì£¼ì„!
            // $('.logF').submit();
            // í˜„ì¬ í˜ì´ì§€ formì •ë³´ê°€ ëª¨ë‘ inc/ins.phpë¡œ
            // ì´ë™í•˜ì—¬ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•¨ - ë™ê¸°í™”ë°©ì‹

            // -> í˜„ì¬ í˜ì´ì§€ë¥¼ ê°€ë§Œíˆ ë‘ê³  ì²˜ë¦¬í˜ì´ì§€ë¡œ
            // ë¹„ë™ê¸°ì ì¸ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì´ ë°”ë¡œ Ajax!!!
            

            /* 
                [ Ajaxë¥¼ ì´ìš©í•œ POSTë°©ì‹ìœ¼ë¡œ DBì— ë°ì´í„°
                ì…ë ¥í•˜ê¸° ] 

                AJAX = Asyncronous Javascript and XML

                - ë¹„ë™ê¸°í†µì‹ ì´ë€? ì‰½ê²Œ ë§í•´ì„œ í˜ì´ì§€ê°€ ìƒˆë¡œ
                ê³ ì³ì§€ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ìˆìœ¼ë©´ì„œ ì¼ë¶€ë¶„ë§Œ
                ì„œë²„í†µì‹ ì„ í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤!
                - ì œì´ì¿¼ë¦¬ëŠ” POSTë°©ì‹ìœ¼ë¡œ ajaxë¥¼ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œë¥¼
                ì œê³µí•œë‹¤!

                [ POSTë°©ì‹ Ajax ë©”ì„œë“œ ]
                $.post(URL,data,callback)
                $.post(ì „ì†¡í• í˜ì´ì§€,ì „ì†¡í• ë°ì´í„°,ì „ì†¡í›„ì½œë°±í•¨ìˆ˜)
            
            */

            $.post(
                // 1. ì „ì†¡í• í˜ì´ì§€
                "process/ins.php",

                // 2. ì „ì†¡í• ë°ì´í„° : {} ê°ì²´ë¡œ ì „ì†¡ {ì†ì„±:ê°’}
                {
                    // 1.ì•„ì´ë””
                    "mid":$("#mid").val(),
                    // 2.ë¹„ë²ˆ
                    "mpw":$("#mpw").val(),
                    // 3.ì´ë¦„
                    "mnm":$("#mnm").val(),
                    // 4.ì„±ë³„ : ë¼ë””ì˜¤íƒœê·¸ì— value ì†ì„±í•„ìˆ˜!
                    "gen":$(":radio[name=gen]:checked").val(),
                    // 5-1.ì´ë©”ì¼ ì•ì£¼ì†Œ
                    "email1":$("#email1").val(),
                    // 5-2.ì´ë©”ì¼ ë’·ì£¼ì†Œ
                    "seleml":$("#seleml").val(),
                    // 5-3.ì§ì ‘ì…ë ¥ ì´ë©”ì¼ ë’·ì£¼ì†Œ
                    "email2":$("#email2").val(),
                },
                // 3. ì „ì†¡í›„ì½œë°±í•¨ìˆ˜
                    function(res){ // res - ë¦¬í„´ê°’ ë°›ê¸° ë³€ìˆ˜
                        console.log('ì„œë²„ì‘ë‹µ:',res);
                        /// ì„±ê³µì‹œ ///////////
                        if(res === 'ok'){
                            alert('íšŒì›ê°€ì…ì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤! ğŸ‰')
                            // location.replace('login.php');
                        } ///////////// if: ì„±ê³µì‹œ /////////////
                        //ì‹¤íŒ¨ì‹œ
                        else {
                            alert(res);
                        } ///////////// else: ì‹¤íŒ¨ì‹œ /////////////

                    } ///////////// ì „ì†¡í›„ ì½œë°±í•¨ìˆ˜ /////////////

                ); /////////// ajax post() ///////////




            // alert('íšŒì›ê°€ì…ì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤! ğŸ‰')
            // ì›ë˜ëŠ” POSTë°©ì‹ìœ¼ë¡œ DBì— íšŒì›ê°€ì…ì •ë³´ë¥¼
            // ì „ì†¡í•˜ì—¬ ì…ë ¥í›„ DBì²˜ë¦¬ì™„ë£Œì‹œ ì„±ê³µë©”ì„¸ì§€ë‚˜
            // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë„˜ê²¨ì¤€ë‹¤!
            
            // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜! 
            // location.href = 'login.php';

            // ë¯¼ê°í•œ ì…ë ¥ ë°ì´í„° í˜ì´ì§€ê°€ ë‹¤ì‹œ ëŒì•„ì™€ì„œ
            // ë³´ì´ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— íˆìŠ¤í† ë¦¬ë¥¼ ì§€ìš°ëŠ”
            // replace()ë¡œ ì´ë™í•œë‹¤!
            // location.replace('login.php');
        } /////////// if : í†µê³¼ì‹œ ///////////
        else{ //////// ë¶ˆí†µê³¼ì‹œ ////////
            alert('ì…ë ¥ì„ ìˆ˜ì •í•˜ì„¸ìš”!');
        } /////////// else : ë¶ˆí†µê³¼ì‹œ ///////////


    }); //////////////////// click ////////////////////

/*////////////////////////////////////////////////////////
    í•¨ìˆ˜ëª…: vReg (validation with Regular Expression)
    ê¸°ëŠ¥: ê°’ì— ë§ëŠ” í˜•ì‹ì„ ê²€ì‚¬í•˜ì—¬ ë¦¬í„´í•¨
    (ì£¼ì˜: ì •ê·œì‹ì„ ë”°ì˜´í‘œë¡œ ì‹¸ì§€ë§ì•„ë¼!-ì‹¸ë©´ë¬¸ìê°€ë¨!)
*/ ////////////////////////////////////////////////////////
function vReg(val, cid) {
    // val - ê²€ì‚¬í• ê°’, cid - ì²˜ë¦¬êµ¬ë¶„ì•„ì´ë””
    // console.log("ê²€ì‚¬:"+val+"/"+cid);

    // ì •ê·œì‹ ë³€ìˆ˜
    let reg;

    // ê²€ì‚¬í•  ì•„ì´ë””ì— ë”°ë¼ ì •ê·œì‹ì„ ë³€ê²½í•¨
    switch (cid) {
        case "mid": // ì•„ì´ë””
            reg = /^[a-z]{1}[a-z0-9]{5,19}$/g;
            // ì˜ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” 6~20ê¸€ì ì˜ë¬¸ì/ìˆ«ì
            // /^[a-z]{1} ì²«ê¸€ìëŠ” ì˜ë¬¸ìë¡œ ì²´í¬!
            // [a-z0-9]{5,19} ì²«ê¸€ì ë‹¤ìŒ ë¬¸ìëŠ” ì˜ë¬¸ ë˜ëŠ” ìˆ«ìë¡œ
            // ìµœì†Œ 5ê¸€ìì—ì„œ ìµœëŒ€ 19ê¸€ìë¥¼ ìœ íš¨ë²”ìœ„ë¡œ ì²´í¬!
            // ì²«ê¸€ì í•œê¸€ìë¥¼ ë”í•˜ë©´ ìµœì†Œ 6ê¸€ìì—ì„œ ìµœëŒ€ 20ê¸€ìì²´í¬!
            break;
        case "mpw": // ë¹„ë°€ë²ˆí˜¸
            reg = /^.*(?=^.{5,15}$)(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&+=]).*$/;
            // íŠ¹ìˆ˜ë¬¸ì,ë¬¸ì,ìˆ«ìí¬í•¨ í˜•íƒœì˜ 5~15ìë¦¬
            // (?=^.{5,15}$) ì‹œì‘ë¶€í„° ëê¹Œì§€ ì „ì²´ 5~15ìë¦¿ìˆ˜ ì²´í¬!
            // (?=.*\d) ìˆ«ì ì‚¬ìš©ì²´í¬!
            // (?=.*[a-zA-Z]) ì˜ë¬¸ì ëŒ€ë¬¸ì ë˜ëŠ” ì†Œë¬¸ì ì‚¬ìš©ì²´í¬!
            // (?=.*[!@#$%^&+=]) íŠ¹ìˆ˜ë¬¸ì ì‚¬ìš©ì²´í¬!
            break;
        case "eml": // ì´ë©”ì¼
            reg = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/;
            // ì´ë©”ì¼ í˜•ì‹ì— ë§ëŠ”ì§€ ê²€ì‚¬í•˜ëŠ” ì •ê·œì‹
            break;
    } //////////// switch caseë¬¸ //////////////////

    // //console.log("ì •ê·œì‹:"+reg);

    // ì •ê·œì‹ ê²€ì‚¬ë¥¼ ìœ„í•œ JSë©”ì„œë“œ 
    // -> ì •ê·œì‹.test(ê²€ì‚¬í• ê°’) : ê²°ê³¼ true/false
    return reg.test(val); //í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ê²€ì‚¬ê²°ê³¼ë¦¬í„´!

} //////////// vReg í•¨ìˆ˜ //////////////////////////////////
///////////////////////////////////////////////////////////


